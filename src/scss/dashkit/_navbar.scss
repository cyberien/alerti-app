//
// navbar.scss
// Extended from Bootstrap
//

// Bootstrap Overrides =======================

.navbar {

  // Nav

  &-nav {

    .nav {

      // Link

      &-link {
        display: flex;
        align-items: center;

        // Icons

        > [class*="icon"] {
          min-width: $navbar-nav-link-icon-width;
        }
      }
    }
  }
}


//
// Dashkit ===================================
//

.navbar {

  // Vertical
  //
  // Creates vertically positioned navbar

  &-vertical {
    flex-direction: column;
    flex-wrap: nowrap;
    align-items: stretch;
    justify-content: flex-start;
    width: 100%;
    padding: 0;
    box-shadow: 0 0 1px 0 $border-color;

    // Dropdown

    .dropdown {

      // Menu

      &-menu {
        position: relative !important;
        top: auto; left: auto; bottom: auto; right: auto;
        padding: 0;
        border: 0;
      }

      // Item

      &-item {
        padding-left: ($navbar-nav-link-padding-x + $navbar-nav-link-icon-width);
      }
    }
  }


  // Expand
  //
  // Expands navbar at specified grid breakpoints

  &-expand {

    // Navbar vertical specific

    @at-root .navbar-vertical#{&} {

      // Go through grid breakpoints

      @each $breakpoint, $dimension in $grid-breakpoints {
          
        &-#{$breakpoint} {
            
          @include media-breakpoint-up(#{$breakpoint}) {
              width: $navbar-vertical-width;
          }
        }
      }
    }
  }


  // Fixed
  //
  // Positions navbar fixed to one of the sides

  &.fixed {
    
    // Left, Right

    &-left, &-right {
      position: fixed;
      top: 0; bottom: 0;
    }

    // Left

    &-left {
      left: 0;
    }

    // Right

    &-right {
      right: 0;
    }
  }


  // Nav
  //
  // Navbar navigation

  &-nav {

    // Navbar vertical specific

    @at-root .navbar-vertical #{&} {
      flex-direction: column;
      align-items: stretch;
      margin-left: -$navbar-padding-x;
      margin-right: -$navbar-padding-x;

      // Nav

      .nav {

        // Link

        &-link {
          padding: $nav-link-padding-y $nav-link-padding-x;

          // Active

          &.active {
            position: relative;

            // Line
            
            &:before {
              content: '';
              position: absolute;
              top: $nav-link-padding-y;
              bottom: $nav-link-padding-y;
              left: 0;
              border-left: 2px solid $primary;
            }
          }
        }
      }
    }
  }


  // Title
  // 
  // Creates navbar title

  &-title {
    font-size: $navbar-title-font-size;
    text-transform: uppercase;
  }


  // Brand
  //
  // Navbar brand text or image

  &-brand {
    display: flex;
    justify-content: center;

    // Image

    &-img {
      max-width: 100%;
      max-height: 3.5rem;
    }
  }


  // Header
  //
  // Navbar header

  &-header {

    // Navbar vertical specific

    @at-root .navbar-vertical #{&} {
      padding: $navbar-padding-y $navbar-padding-x;
    }
  }


  // Body
  //
  // Full height navbar body

  &-body {

    // Navbar vertical specific

    @at-root .navbar-vertical #{&} {
      width: 100%; height: 100%;
      padding: $navbar-padding-y $navbar-padding-x;
      overflow-y: auto;
    }
  }


  // Footer
  //
  // Navbar footer fixed at the bottom

  &-footer {
    
    // Navbar vertical specific

    @at-root .navbar-vertical #{&} {
      width: 100%; height: auto;
      padding: $navbar-padding-y $navbar-padding-x;
      border-top: 1px solid $border-color;
    }
  }


  // User
  //
  // Expandable user component

  &-user {
    display: flex;
    align-items: center;
    color: $body-color;

    // Hover

    &:hover, &:focus, &:active, &:focus:active {
      color: $body-color;
      text-decoration: none;
    }

    // Image

    &-img {

      > img {
        max-width: 2rem; height: auto;
        margin-right: 1rem;
        border-radius: 10rem;

        @supports(object-fit: cover) {
          width: 2rem; height: 2rem;
          object-fit: cover;
        }
      }
    }
  }

}